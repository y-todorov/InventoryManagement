@using InventoryManagementMVC.Models.Chart
@{
    ViewBag.Title = "Inventory Management";
}

@section featured {

}

@{
    @(Html.Kendo().Chart<ProductsPerCategory>()
        .Name("chart").Theme("blueopal")
        .Title("Products count and stock value by category")
        .Legend(legend => legend
            .Position(ChartLegendPosition.Top)
        )
        .DataSource(ds => ds.Read(read => read.Action("ProductsCountByCategory", "Chart")))
        .Series(series => {
                              series.Column(p => p.ProductCount).Name("Product count").Labels(true);
                              series.Column(p => p.ProductValue).Name("Product value").Labels(true);
        })
        .CategoryAxis(axis => axis.Categories(p => p.CategoryName)
            .Labels(labels => labels.Rotation(90))
        )
        .ValueAxis(axis => axis.Numeric()
            .Labels(labels => labels.Format("{0:N0}"))
        )
        .Tooltip(tooltip => tooltip
            .Visible(true)
            .Format("{0:N0}")
        )
    ) 
}
